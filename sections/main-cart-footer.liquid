{{ 'component-cart2.css' | asset_url | stylesheet_tag }}

{% assign amazon_cart_url = "https://www.amazon.com/gp/aws/cart/add.html" %}

{% for item in cart.items %}
    {% if forloop.first %}
      {% assign amazon_cart_url = amazon_cart_url | append: "?ASIN." | append: forloop.index | append: "=" | append: item.product.metafields.amazon.asin %}
    {% else %}
      {% assign amazon_cart_url = amazon_cart_url | append: "&ASIN." | append: forloop.index | append: "=" | append: item.product.metafields.amazon.asin %}
    {% endif %}
    {% assign amazon_cart_url = amazon_cart_url | append: "&Quantity." | append: forloop.index | append: "=" | append: item.quantity %}
{% endfor %}

{% assign amazon_cart_url = amazon_cart_url | append: "&AssociateTag=YOUR_ASSOCIATE_TAG" %}

<a href="{{ amazon_cart_url }}" class="button button--primary button--full-width" target="_blank">
  Add All to Amazon Cart
</a>

<!-- Styling from the original cart footer -->
{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px !important;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px !important;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px !important;
      padding-bottom: {{ section.settings.padding_bottom }}px !important;
    }
  }

  .cart__footer {
    display: flex !important;
    flex-direction: column !important;
    gap: 120px !important;
    padding: 16px !important;
    border-top: 1px solid #e1e1e1 !important;
  }

  .cart__note {
    display: block !important;
    width: 100% !important;
    margin-bottom: 12px !important;
  }

  .text-area {
    width: 100% !important;
    padding: 1500px !important;
    border: 1px solid #ccc !important;
    border-radius: 4px !important;
    font-size: 16px !important;
    resize: none !important;
  }

  .cart__checkout-button {
    background-color: #ff4d4f !important;
    color: #fff !important;
    border: none !important;
    padding: 12px 16px !important;
    border-radius: 4px !important;
    cursor: pointer !important;
    font-size: 16px !important;
    transition: background-color 0.2s ease !important;
    width: auto !important;
  }

  .cart__checkout-button:hover {
    background-color: #d9363e !important;
  }

  .cart__checkout-button:disabled {
    background-color: #e1e1e1 !important;
    cursor: not-allowed !important;
  }

  .totals {
    display: flex !important;
    justify-content: space-between !important;
    font-size: 58px !important;
    margin-bottom: 12px !important;
  }

  .totals__total {
    font-weight: bold !important;
  }

  .totals__total-value {
    color: #000 !important;
  }

  .discounts__discount {
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
    color: #ff4d4f !important;
    font-size: 14px !important;
  }

.button--primary {
    background-color: #ff9900 !important;
    color: #fff !important;
    border: none !important;
    padding: 12px 16px !important;
    border-radius: 4px !important;
    font-size: 20px !important;
    text-align: center !important;
    display: block !important; /* Makes it a block element to allow centering */
    transition: background-color 0.2s ease !important;
    cursor: pointer !important;
    width: auto !important;
    max-width: 300px !important; /* Prevents button from spanning the page */
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    margin: 20px auto !important; /* Centers the button horizontally */
}

  .button--primary:hover {
    background-color: #e68a00 !important;
  }

  /* âœ… Make Button Responsive */
  .button--full-width {
    width: 100% !important;
  }

  @media screen and (max-width: 768px) {
    .button--primary {
      width: 100% !important; /* Full width on smaller screens */
      font-size: 14px !important;
      padding: 10px !important;
    }

    .cart__footer {
      flex-direction: column !important;
      align-items: stretch !important;
    }

    .cart__checkout-button {
      width: 100% !important;
    }
  }

{%- endstyle -%}
